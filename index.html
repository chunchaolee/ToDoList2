<!DOCTYPE html>
<html>
<head>
  <title>To Do List</title>
  
  <script>
    function createToDo() {
      //創造相關標籤
      var todo = document.createElement("div"); //To-do div標籤
      var span = document.createElement("span"); //存放文字用的span標籤
      var replaceButton = document.createElement("button"); //取代to-do的button標籤
      var removeButton = document.createElement("button"); //刪除to-do的button標籤

      //處理To-Do的文字內容
      var input = document.getElementById("input").value;
      if ( input == "" ) {
        input = "空白文";
      };
      span.innerHTML = input;
      todo.appendChild(span);

      //設定replaceButton onclick event
      replaceButton.onclick = function() {
        var input = document.getElementById("input").value;
        if ( input == "" ) {
          alert("並未輸入任何文字");
          return;
        } ;
        this.parentNode.firstChild.innerHTML = input;
        document.getElementById("input").value = "";
      };
      replaceButton.textContent = "R";
      todo.appendChild(replaceButton);

      //設定replaceButton onclick event
      removeButton.onclick = function() {
        var todolist = document.getElementById("todolist");
        //加入window confirm()屬性，確定是否刪除
        var answer = confirm("是否確定完成？");
        // 點擊「確定」即等於 true，則刪除該todo
        if ( answer ) { 
          //更改todo文字顏色
          todo.style.color = "red";
          //移除 R V 按鈕
          todo.removeChild(replaceButton);
          todo.removeChild(removeButton);
        };
      };
      removeButton.textContent = "V";
      todo.appendChild(removeButton);

      var todolist = document.getElementById("todolist");
      todolist.appendChild(todo);
      document.getElementById("input").value = "";
    };
  </script>

</head>
<body>
  
  <div id="todolist">
    <input type="form" id="input">
    <button onclick="createToDo()">+</button>
  </div>

</body>
</html>